<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Document Manager - Secure Viewer & Download Tracker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Theme Toggle -->
    <div class="theme-toggle" onclick="toggleTheme()">
        <span id="themeIcon">üåô</span>
        <span id="themeText">Dark Mode</span>
    </div>

    <!-- Navigation Tabs -->
    <nav class="tab-navigation">
        <div class="tabs-container">
            <button class="tab-btn active" data-tab="viewer" onclick="switchTab('viewer')">
                <span class="tab-icon">üëÅÔ∏è</span>
                <span class="tab-label">Viewer</span>
            </button>
            <button class="tab-btn" data-tab="downloads" onclick="switchTab('downloads')">
                <span class="tab-icon">‚¨áÔ∏è</span>
                <span class="tab-label">Downloads</span>
                <span class="download-count" id="downloadCount">0</span>
            </button>
            <button class="tab-btn admin-tab-btn" data-tab="admin" onclick="showAdminLogin()">
                <span class="tab-icon">üîê</span>
                <span class="tab-label">Admin</span>
                <span class="admin-status" id="adminStatus">Locked</span>
            </button>
        </div>
    </nav>

    <div class="app-wrapper">
        <!-- Sidebar - Daily Motivation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h3 class="sidebar-title">üí° Daily Motivation</h3>
                <button class="new-quote-btn" onclick="getNewQuote()">‚ü≥ New Quote</button>
            </div>
            
            <div class="quote-container">
                <div class="quote-loading" id="quoteLoading">
                    <div class="loading-spinner"></div>
                    <span>Loading inspiration...</span>
                </div>
                
                <div class="quote-content" id="quoteContent">
                    <div class="quote-text" id="quoteText"></div>
                    <div class="quote-author" id="quoteAuthor"></div>
                    <div class="quote-source" id="quoteSource"></div>
                </div>
                
                <div class="quote-actions">
                    <button class="btn btn-secondary" onclick="shareQuote()">üì§ Share</button>
                    <button class="btn btn-success" onclick="saveQuote()">üíæ Save</button>
                </div>
            </div>
            
            <div class="quote-categories">
                <h4>Quick Picks</h4>
                <div class="category-buttons">
                    <button class="category-btn" data-category="success" onclick="getQuoteByCategory('success')">Success</button>
                    <button class="category-btn" data-category="motivation" onclick="getQuoteByCategory('motivation')">Motivation</button>
                    <button class="category-btn" data-category="wisdom" onclick="getQuoteByCategory('wisdom')">Wisdom</button>
                    <button class="category-btn" data-category="happiness" onclick="getQuoteByCategory('happiness')">Happiness</button>
                </div>
            </div>
        </aside>

        <!-- Admin Tab Content -->
        <div class="admin-tab-content" id="adminTabContent">
            <div class="admin-panel" id="adminPanel">
                <div class="admin-header">
                    <h3>üë®‚Äçüíº Admin Document Management</h3>
                    <div class="admin-actions">
                        <button class="btn btn-danger" onclick="logoutAdmin()">Logout</button>
                        <span class="admin-session-timer" id="adminSessionTimer">30:00</span>
                    </div>
                </div>
                
                <div class="admin-upload-section">
                    <h4>üì§ Upload Admin Documents</h4>
                    <div class="admin-upload-area" id="adminUploadArea">
                        <input type="file" id="adminFileInput" accept=".pdf" multiple>
                        <div class="admin-upload-content" onclick="document.getElementById('adminFileInput').click()">
                            <div class="admin-upload-icon">üìÑ</div>
                            <div class="admin-upload-text">Drop PDF files here or click to browse</div>
                            <div class="admin-upload-subtext">Max 50MB each, up to 20 files</div>
                        </div>
                    </div>
                </div>
                
                <div class="admin-files-section">
                    <h4>üìö Available Documents (<span id="adminFileCount">0</span>)</h4>
                    <div class="admin-file-list" id="adminFileList"></div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content-wrapper">
            <div class="tab-content active" id="viewerTab">
                <div class="container">
                    <div class="header">
                        <h1>PDF Document Viewer</h1>
                        <p>Securely view PDF documents with enterprise-grade access control. All downloads are tracked for security.</p>
                    </div>

                    <div class="main-content">
                        <div class="upload-section">
                            <h2 class="section-title">üìÅ My Uploads</h2>
                            <div class="upload-area" id="uploadArea">
                                <div class="upload-icon">üìÑ</div>
                                <div class="upload-text">Drop PDF files here or click to browse</div>
                                <div class="upload-subtext">Max 10MB each, up to 5 files</div>
                                <input type="file" id="fileInput" accept=".pdf" multiple>
                            </div>
                            <div class="file-list" id="fileList"></div>
                        </div>

                        <div class="viewer-section">
                            <h2 class="section-title">üëÅÔ∏è Document Viewer</h2>
                            <div class="viewer-controls">
                                <div class="page-info">
                                    <span id="currentPage">1</span> / <span id="totalPages">1</span>
                                </div>
                                <div class="navigation-btns">
                                    <button class="btn btn-primary" id="prevPage" onclick="previousPage()" disabled>‚Üê Previous</button>
                                    <button class="btn btn-primary" id="nextPage" onclick="nextPage()" disabled>Next ‚Üí</button>
                                    <button class="btn btn-success" id="downloadBtn" onclick="downloadCurrentPDF()">‚¨áÔ∏è Download</button>
                                </div>
                            </div>
                            <div class="viewer-container" id="viewerContainer">
                                <div class="viewer-placeholder">
                                    <div class="placeholder-icon">üìÑ</div>
                                    <p>Select a PDF to view</p>
                                    <p class="placeholder-subtext">Upload files or contact admin for access</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="questions-section">
                        <div class="questions-header">
                            <h2 class="questions-title">‚ùì Document Notes</h2>
                            <button class="add-question-btn" onclick="addQuestion()">+ Add Note</button>
                        </div>
                        <div class="questions-container" id="questionsContainer"></div>
                        <button class="save-questions-btn" onclick="saveQuestions()">üíæ Save Notes</button>
                    </div>
                </div>
            </div>

            <!-- Downloads Tab -->
            <div class="tab-content" id="downloadsTab">
                <div class="container">
                    <div class="header">
                        <h1>üì• Download History</h1>
                        <p>Track all PDF downloads with timestamps and file details. All downloads are logged for security.</p>
                    </div>

                    <div class="downloads-section">
                        <div class="downloads-header">
                            <div class="download-header-col file-name">File Name</div>
                            <div class="download-header-col size">Size</div>
                            <div class="download-header-col date">Downloaded</div>
                            <div class="download-header-col source">Source</div>
                            <div class="download-header-col actions">Actions</div>
                        </div>
                        
                        <div class="downloads-list" id="downloadsList">
                            <div class="download-empty-state">
                                <div class="empty-icon">üì•</div>
                                <p>No downloads yet</p>
                                <p class="empty-subtext">Download PDFs from the Viewer tab to see them here</p>
                            </div>
                        </div>
                        
                        <div class="downloads-actions">
                            <button class="btn btn-secondary" onclick="clearDownloads()">üóëÔ∏è Clear All</button>
                            <button class="btn btn-primary" onclick="exportDownloads()">üì§ Export History</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
